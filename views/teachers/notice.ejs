<% if (session.teacher_id) { %>

<% include ./header %>

<style>
	.noticeViewDetail:hover {
		color: blue;
	}
</style>

<script>
	$(document).ready(function () {
		$('#notice_info').DataTable();
	});
</script>

<section class="sub_section">
	<div class="container">
		<div class="page-header sub">
			<h2>공지사항</h2>
			<p>WA3I의 공지사항을 확인할 수 있습니다.</p>
		</div>

		<div class="container">
			<form action="/teachers/notice" method="GET">
				<table id="notice_info" class="display dataTable no-footer" role="grid" aria-describedby="notice_info_info">
					<thead>
						<tr style="background-color: #343a40; color: white; text-align: center;" role="row">
							<th class="sorting_asc" tabindex="0" aria-controls="notice_info" rowspan="1" colspan="1"
								aria-sort="ascending" aria-label="번호: activate to sort column descending" style="width: 67px;">번호</th>
							<th class="sorting" tabindex="0" aria-controls="notice_info" rowspan="1" colspan="1"
								aria-label="대상: activate to sort column ascending" style="width: 67px;">대상</th>
							<th class="sorting" tabindex="0" aria-controls="notice_info" rowspan="1" colspan="1"
								aria-label="제목: activate to sort column ascending" style="width: 470px;">제목</th>
							<th class="sorting" tabindex="0" aria-controls="notice_info" rowspan="1" colspan="1"
								aria-label="등록일자: activate to sort column ascending" style="width: 179px;">등록일자</th>
						</tr>
					</thead>
					<tbody>

						<% for (var notice_value of data) { %>
						<tr align="center" role="row" class="odd">
							<td> <%= notice_value.notice_id %></td>
							<td><%= notice_value.notice_target %></td>

							<td style="text-align: left;">
								<button type="submit" class="w3-round w3-dark noticeViewDetail" name="selected_notice_id"
									value="<%= notice_value.notice_id %>">
									<%= notice_value.notice_name %>
								</button>
							</td>
							<td><%= notice_value.made_date %></td>
						</tr>
						<% } %>

					</tbody>
				</table>
			</form>
		</div>
	</div>
</section>

<% include ./footer %>

<% } else { %>

<script>
	alert('로그인을 하셔야 이용이 가능합니다. 먼저 로그인을 해주세요.');
	document.location.href = "login";
</script>

<% } %>